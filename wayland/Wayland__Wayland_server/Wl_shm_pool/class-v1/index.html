<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>v1 (wayland.Wayland__Wayland_server.Wl_shm_pool.v1)</title><link rel="stylesheet" href="../../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../../../index.html">wayland</a> &#x00BB; <a href="../../index.html">Wayland__Wayland_server</a> &#x00BB; <a href="../index.html">Wl_shm_pool</a> &#x00BB; v1</nav><h1>Class <code>Wl_shm_pool.v1</code></h1><p>Handler for a proxy with version &gt;= 1.</p></header><dl><dt> <span class="keyword">constraint</span> <span class="type-var">'b</span> = <span>[&lt; `V1 ]</span></dt></dl><dl><dt class="spec method" id="method-on_create_buffer"><a href="#method-on_create_buffer" class="anchor"></a><code><span class="keyword">method</span> <span class="keyword">private</span> <span class="keyword">virtual</span> on_create_buffer : <span><span>[&gt; `V1 ]</span> <a href="../index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span>[ `Wl_buffer ]</span>, <span class="type-var">'b</span>, <span>[ `Server ]</span>)</span> <a href="../../../Wayland/Proxy/index.html#type-t">Wayland.Proxy.t</a></span> <span>&#45;&gt;</span> <span>offset:int32</span> <span>&#45;&gt;</span> <span>width:int32</span> <span>&#45;&gt;</span> <span>height:int32</span> <span>&#45;&gt;</span> <span>stride:int32</span> <span>&#45;&gt;</span> <span>format:<a href="../../$Open__4_95/index.html#module-$Imports">$Imports</a>.Wl_shm.Format.t</span> <span>&#45;&gt;</span> unit</code></dt></dl><aside><p>Create a buffer from the pool.</p><p>Create a wl_buffer object from the pool.</p><p>The buffer is created offset bytes into the pool and has width and height as specified. The stride argument specifies the number of bytes from the beginning of one row to the beginning of the next. The format is the pixel format of the buffer and must be one of those advertised through the wl_shm.format event.</p><p>A buffer will keep a reference to the pool it was created from so it is valid to destroy the pool immediately after creating a buffer from it.</p></aside><dl><dt class="spec method" id="method-on_destroy"><a href="#method-on_destroy" class="anchor"></a><code><span class="keyword">method</span> <span class="keyword">private</span> <span class="keyword">virtual</span> on_destroy : <span><span>[&gt; `V1 ]</span> <a href="../index.html#type-t">t</a></span> <span>&#45;&gt;</span> unit</code></dt></dl><aside><p>Destroy the pool.</p><p>Destroy the shared memory pool.</p><p>The mmapped memory will be released when all buffers that have been created from this pool are gone.</p></aside><dl><dt class="spec method" id="method-on_resize"><a href="#method-on_resize" class="anchor"></a><code><span class="keyword">method</span> <span class="keyword">private</span> <span class="keyword">virtual</span> on_resize : <span><span>[&gt; `V1 ]</span> <a href="../index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span>size:int32</span> <span>&#45;&gt;</span> unit</code></dt></dl><aside><p>Change the size of the pool mapping.</p><p>This request will cause the server to remap the backing memory for the pool from the file descriptor passed when the pool was created, but using the new size. This request can only be used to make the pool bigger.</p></aside><dl><dt class="spec method" id="method-min_version"><a href="#method-min_version" class="anchor"></a><code><span class="keyword">method</span> min_version : <span><span>[<a href="../../../Wayland/Wayland_proto/Wl_shm_pool/index.html#type-t">Wayland.Wayland_proto.Wl_shm_pool.t</a>, <span class="type-var">'b</span>, <span>[ `Server ]</span>]</span> <a href="../../../Wayland/Proxy/Service_handler/class-type-t/index.html">Wayland.Proxy.Service_handler.t</a></span> <span>&#45;&gt;</span> int32</code></dt></dl></div></body></html>