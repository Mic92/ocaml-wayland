<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Xdg_toplevel (wayland.Wayland_protocols.Xdg_shell_server.Xdg_toplevel)</title><link rel="stylesheet" href="../../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> – <a href="../../../index.html">wayland</a> &#x00BB; <a href="../../index.html">Wayland_protocols</a> &#x00BB; <a href="../index.html">Xdg_shell_server</a> &#x00BB; Xdg_toplevel</nav><header class="odoc-preamble"><h1>Module <code><span>Xdg_shell_server.Xdg_toplevel</span></code></h1><p>Toplevel surface.</p><p>This interface defines an xdg_surface role which allows a surface to, among other things, set window-like properties such as maximize, fullscreen, and minimize, set application-specific metadata like title and id, and well as trigger user interactive operations such as interactive resize and move.</p><p>Unmapping an xdg_toplevel means that the surface cannot be shown by the compositor until it is explicitly mapped again. All active operations (e.g., move, resize) are canceled and all attributes (e.g. title, state, stacking, ...) are discarded for an xdg_toplevel surface when it is unmapped. The xdg_toplevel returns to the state it had right after xdg_surface.get_toplevel. The client can re-map the toplevel by perfoming a commit without any buffer attached, waiting for a configure event and handling it as usual (see xdg_surface description).</p><p>Attaching a null buffer to a toplevel unmaps the surface.</p></header><nav class="odoc-toc"><ul><li><a href="#version-1,-2,-3">Version 1, 2, 3</a></li><li><a href="#handlers">Handlers</a></li></ul></nav><div class="odoc-content"><div class="odoc-spec"><div class="spec type" id="type-t" class="anchored"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> <span>'v t</span></span><span> = <span><span>(<span>[ `Xdg_toplevel ]</span>, <span class="type-var">'v</span>, <span>[ `Server ]</span>)</span> <a href="../../../Wayland/Proxy/index.html#type-t">Wayland.Proxy.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Resize_edge" class="anchored"><a href="#module-Resize_edge" class="anchor"></a><code><span><span class="keyword">module</span> </span><span>Resize_edge</span><span> = <a href="../../Xdg_shell_proto/Xdg_toplevel/Resize_edge/index.html">Xdg_shell_proto.Xdg_toplevel.Resize_edge</a></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-State" class="anchored"><a href="#module-State" class="anchor"></a><code><span><span class="keyword">module</span> </span><span>State</span><span> = <a href="../../Xdg_shell_proto/Xdg_toplevel/State/index.html">Xdg_shell_proto.Xdg_toplevel.State</a></span></code></div></div><h3 id="version-1,-2,-3"><a href="#version-1,-2,-3" class="anchor"></a>Version 1, 2, 3</h3><div class="odoc-spec"><div class="spec value" id="val-close" class="anchored"><a href="#val-close" class="anchor"></a><code><span><span class="keyword">val</span> close : <span><span><span>[&lt; `V1 <span>| `V2</span> <span>| `V3</span> ]</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Surface wants to be closed.</p><p>The close event is sent by the compositor when the user wants the surface to be closed. This should be equivalent to the user clicking the close button in client-side decorations, if your application has any.</p><p>This is only a request that the user intends to close the window. The client may choose to ignore this request, or show a dialog to ask the user to save their data, etc.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-configure" class="anchored"><a href="#val-configure" class="anchor"></a><code><span><span class="keyword">val</span> configure : <span><span><span>[&lt; `V1 <span>| `V2</span> <span>| `V3</span> ]</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>width:int32 <span class="arrow">&#45;&gt;</span></span> <span>height:int32 <span class="arrow">&#45;&gt;</span></span>
<span>states:string <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Suggest a surface change.</p><p>This configure event asks the client to resize its toplevel surface or to change its state. The configured state should not be applied immediately. See xdg_surface.configure for details.</p><p>The width and height arguments specify a hint to the window about how its surface should be resized in window geometry coordinates. See set_window_geometry.</p><p>If the width or height arguments are zero, it means the client should decide its own window dimension. This may happen when the compositor needs to configure the state of the surface but doesn't have any information about any previous or expected dimension.</p><p>The states listed in the event specify how the width/height arguments should be interpreted, and possibly how it should be drawn.</p><p>Clients must send an ack_configure in response to this event. See xdg_surface.configure and xdg_surface.ack_configure for details.</p></div></div><h3 id="handlers"><a href="#handlers" class="anchor"></a>Handlers</h3><p>Note: Servers will always want to use <code>v1</code>.</p><div class="odoc-spec"><div class="spec class" id="class-v1" class="anchored"><a href="#class-v1" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'a </span><span><a href="class-v1/index.html">v1</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Handler for a proxy with version &gt;= 1.</p></div></div><div class="odoc-spec"><div class="spec class" id="class-v2" class="anchored"><a href="#class-v2" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'a </span><span><a href="class-v2/index.html">v2</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Handler for a proxy with version &gt;= 2.</p></div></div><div class="odoc-spec"><div class="spec class" id="class-v3" class="anchored"><a href="#class-v3" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'a </span><span><a href="class-v3/index.html">v3</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Handler for a proxy with version &gt;= 3.</p></div></div></div></body></html>