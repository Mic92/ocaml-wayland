<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>h1 (wayland.Wayland.Wayland_server.Wl_data_offer.h1)</title><link rel="stylesheet" href="../../../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../../../index.html">wayland</a> &#x00BB; <a href="../../../index.html">Wayland</a> &#x00BB; <a href="../../index.html">Wayland_server</a> &#x00BB; <a href="../index.html">Wl_data_offer</a> &#x00BB; h1</nav><h1>Class <code>Wl_data_offer.h1</code></h1></header><dl><dt class="spec method" id="method-on_destroy"><a href="#method-on_destroy" class="anchor"></a><code><span class="keyword">method</span> <span class="keyword">virtual</span> on_destroy : <span><span class="type-var">'v</span> <a href="../index.html#type-t">t</a></span> <span>&#45;&gt;</span> unit</code></dt><dd><p>Destroy data offer.</p><p>Destroy the data offer.</p></dd></dl><dl><dt class="spec method" id="method-on_receive"><a href="#method-on_receive" class="anchor"></a><code><span class="keyword">method</span> <span class="keyword">virtual</span> on_receive : <span><span class="type-var">'v</span> <a href="../index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span>mime_type:string</span> <span>&#45;&gt;</span> <span>fd:Unix.file_descr</span> <span>&#45;&gt;</span> unit</code></dt><dd><p>Request that the data is transferred.</p><p>To transfer the offered data, the client issues this request and indicates the mime type it wants to receive. The transfer happens through the passed file descriptor (typically created with the pipe system call). The source client writes the data in the mime type representation requested and then closes the file descriptor.</p><p>The receiving client reads from the read end of the pipe until EOF and then closes its end, at which point the transfer is complete.</p><p>This request may happen multiple times for different mime types, both before and after wl_data_device.drop. Drag-and-drop destination clients may preemptively fetch data or examine it more closely to determine acceptance.</p></dd></dl><dl><dt class="spec method" id="method-on_accept"><a href="#method-on_accept" class="anchor"></a><code><span class="keyword">method</span> <span class="keyword">virtual</span> on_accept : <span><span class="type-var">'v</span> <a href="../index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span>serial:int32</span> <span>&#45;&gt;</span> <span>mime_type:string</span> <span>&#45;&gt;</span> unit</code></dt><dd><p>Accept one of the offered mime types.</p><p>Indicate that the client can accept the given mime type, or NULL for not accepted.</p><p>For objects of version 2 or older, this request is used by the client to give feedback whether the client can receive the given mime type, or NULL if none is accepted; the feedback does not determine whether the drag-and-drop operation succeeds or not.</p><p>For objects of version 3 or newer, this request determines the final result of the drag-and-drop operation. If the end result is that no mime types were accepted, the drag-and-drop operation will be cancelled and the corresponding drag source will receive wl_data_source.cancelled. Clients may still use this event in conjunction with wl_data_source.action for feedback.</p></dd></dl></div></body></html>